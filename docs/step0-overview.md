# Step 0: 事前知識

このステップでは、Dockerの基本概念と今回構築するシステムの全体像を理解します。

## 🎯 このステップの目標

- Dockerとは何かを理解する
- コンテナとホスト環境の違いを理解する
- 今回構築するシステムの全体像を把握する
- なぜDockerを使うのかを理解する

---

## 🐳 Dockerとは何か

### 従来の開発環境の問題

```
開発者A: 「私の環境では動くんですが...」
開発者B: 「Node.jsのバージョンが違うからかも？」
開発者C: 「MySQLの設定が違うのでは？」
```

このような「環境の違い」による問題を解決するのがDockerです。

### Dockerの解決策

Dockerは**「アプリケーションとその実行環境を一緒にパッケージ化」**する技術です。

```
🏠 ホスト環境（あなたのPC）
├── 🐳 コンテナ1（Node.js + アプリ）
├── 🐳 コンテナ2（MySQL + データ）
└── 🐳 コンテナ3（React + フロント）
```

---

## 📦 コンテナとホスト環境の違い

### ホスト環境（あなたのPC）
- macOS、Windows、Linux
- 直接インストールされたソフトウェア
- ファイルシステム全体にアクセス可能

### コンテナ環境
- 軽量な仮想環境
- 必要最小限のOS機能のみ
- 隔離された環境で実行
- ホストとは独立したファイルシステム

### 重要なポイント：ポートの概念

```
ホスト環境（あなたのPC）
├── ポート 3000 → コンテナのポート 3000（フロントエンド）
├── ポート 8000 → コンテナのポート 8000（バックエンド）
└── ポート 3306 → コンテナのポート 3306（データベース）
```

**コンテナ内のアプリケーションにアクセスするには、ポートを「公開」する必要があります。**

---

## 🏗️ 今回構築するシステム

### システム構成図

```
[ ブラウザ ] ← http://localhost:3000
     ↓
[ フロントエンド コンテナ ]
  - React + TypeScript
  - ポート: 3000
     ↓ API通信
[ バックエンド コンテナ ]
  - Node.js + Express
  - ポート: 8000
     ↓ データベース接続
[ データベース コンテナ ]
  - MySQL 8.0
  - ポート: 3306
```

### 各コンテナの役割

| コンテナ | 技術スタック | 役割 | アクセス方法 |
|---------|-------------|------|-------------|
| **フロントエンド** | React + TypeScript | ユーザーインターフェース | http://localhost:3000 |
| **バックエンド** | Node.js + Express | API サーバー | http://localhost:8000 |
| **データベース** | MySQL 8.0 | データ永続化 | localhost:3306 |

---

## 🤔 なぜDockerを使うのか

### 1. **環境の統一**
- 開発、テスト、本番環境を同じ構成にできる
- 「私の環境では動く」問題を解決

### 2. **簡単なセットアップ**
- `docker compose up` 一つでアプリケーション全体が起動
- 複雑な環境構築手順が不要

### 3. **隔離性**
- 各サービスが独立したコンテナで動作
- 一つのサービスの問題が他に影響しない

### 4. **ポータビリティ**
- どのマシンでも同じように動作
- クラウド環境への移行が簡単

### 5. **スケーラビリティ**
- 必要に応じてコンテナを増減できる
- 負荷分散が容易

---

## 📋 学習の流れ

この教材では、以下の順序で段階的に学習します：

### Step 1: バックエンドをDockerで動かす
- 単一コンテナでの基本操作を学ぶ
- `docker build` と `docker run` を理解する
- ポートフォワーディングを体験する

### Step 2: Docker Composeを使う
- 複数コンテナの管理方法を学ぶ
- フロントエンドとバックエンドを連携させる
- コンテナ間通信を理解する

### Step 3: データベースを追加する
- 3層構成の完成
- データ永続化の仕組みを理解する
- ボリュームの概念を学ぶ

---

## 🎉 完成後にできること

この教材を完了すると、以下ができるようになります：

✅ **Docker / Docker Compose を使ってローカル開発環境を構築できる**
✅ **複数コンテナを連携させて起動できる**
✅ **Dockerfile と docker-compose.yml の役割を説明できる**
✅ **コンテナとホスト環境の違いを理解して説明できる**
✅ **「なぜDockerを使うのか」を自分の言葉で説明できる**

---

## 🚀 次のステップ

準備ができたら、[Step 1: バックエンドをDockerで動かす](step1-backend.md) に進みましょう！

実際にコードを書いて、Dockerの動作を体験していきます。